<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Manage Parts - GaragePro</title>
  <style>
    body {
      background: 
        linear-gradient(135deg, rgba(176,190,197,0.80) 0%, rgba(120,144,156,0.80) 100%),
        url('https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1200&q=80') no-repeat center center fixed;
      background-size: cover;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      position: relative;
      overflow: hidden;
    }
    .back-btn {
      position: absolute;
      top: 24px;
      right: 32px;
      z-index: 20;
      background: #3498db;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.7em 1.4em;
      font-size: 1em;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(44,62,80,0.15);
      transition: background 0.2s;
    }
    .back-btn:hover {
      background: #217dbb;
    }
    .parts-container {
      background: rgba(255,255,255,0.90);
      margin-top: 80px;
      padding: 2em 2.5em;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(44,62,80,0.15);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 340px;
      z-index: 1;
    }
    h1 {
      color: #2c3e50;
      margin-bottom: 1.5em;
      text-shadow: 0 2px 8px rgba(255,255,255,0.7);
    }
    .part-row {
      display: flex;
      align-items: center;
      gap: 1em;
      margin-bottom: 1.2em;
      width: 100%;
    }
    .part-name {
      flex: 2;
      font-size: 1.1em;
      color: #2c3e50;
    }
    .stock-controls {
      display: flex;
      align-items: center;
      gap: 0.5em;
      flex: 1;
      justify-content: flex-end;
    }
    .stock-btn {
      background: #3498db;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      font-size: 1.3em;
      cursor: pointer;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .stock-btn:hover {
      background: #217dbb;
    }
    .stock-value {
      font-size: 1.1em;
      width: 40px;
      text-align: center;
      background: #f4f6fa;
      border-radius: 6px;
      border: 1px solid #b0bec5;
      padding: 0.3em 0;
      margin: 0 0.3em;
    }
    .add-part-form {
      display: flex;
      gap: 1em;
      margin-bottom: 2em;
      width: 100%;
      align-items: center;
    }
    .add-part-form input {
      flex: 2;
      padding: 0.6em;
      border: 1px solid #b0bec5;
      border-radius: 6px;
      font-size: 1em;
      background: #f4f6fa;
    }
    .add-part-form button {
      flex: 1;
      padding: 0.6em;
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
    }
    .add-part-form button:hover {
      background: #219150;
    }
  </style>
</head>
<body>
  <button class="back-btn" onclick="goBack()">Back</button>
  <div class="parts-container">
    <h1>Manage Parts</h1>
    <form class="add-part-form" onsubmit="return addPart(event)">
      <input type="text" id="newPartName" placeholder="Part Name" required>
      <input type="text" id="newPartNumber" placeholder="Part Number" required>
      <input type="number" id="newPartStock" placeholder="Initial Stock" min="0" required>
      <button type="submit">Add Part</button>
    </form>
    <div id="partsList">
      <!-- Parts will be listed here -->
    </div>
  </div>
  <script>
  // Start with an empty parts array
  let parts = [];

  function renderParts() {
    const partsList = document.getElementById('partsList');
    partsList.innerHTML = '';
    parts.forEach((part, idx) => {
      const row = document.createElement('div');
      row.className = 'part-row';
      row.innerHTML = `
        <div class="part-name">${part.name} <span style="color:#888;font-size:0.95em;">(${part.number})</span></div>
        <div class="stock-controls">
          <button class="stock-btn" onclick="changeStock(${idx}, -1)">-</button>
          <div class="stock-value" id="stock-${idx}">${part.stock}</div>
          <button class="stock-btn" onclick="changeStock(${idx}, 1)">+</button>
        </div>
      `;
      partsList.appendChild(row);
    });
  }

  function changeStock(idx, delta) {
    parts[idx].stock = Math.max(0, parts[idx].stock + delta);
    document.getElementById(`stock-${idx}`).textContent = parts[idx].stock;
  }

  function addPart(event) {
    event.preventDefault();
    const name = document.getElementById('newPartName').value.trim();
    const number = document.getElementById('newPartNumber').value.trim();
    const stock = parseInt(document.getElementById('newPartStock').value, 10);
    if (name && number && !isNaN(stock) && stock >= 0) {
      parts.push({ name, number, stock });
      renderParts();
      document.getElementById('newPartName').value = '';
      document.getElementById('newPartNumber').value = '';
      document.getElementById('newPartStock').value = '';
    }
    return false;
  }

  function goBack() {
    window.location.href = "admin-dashboard.html";
  }

  // Initial render
  renderParts();
</script>
</body>
</html>